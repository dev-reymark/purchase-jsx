import{r as $,R as g,u as K,z as D}from"./app-DZe3A5Eo.js";import{z as P,A as V,l as h,x as N,q as B}from"./chunk-XHQUSKIE-Cm8YodC9.js";function j(){return typeof window.ResizeObserver<"u"}function ie(e){const{ref:t,onResize:r}=e;$.useEffect(()=>{let o=t==null?void 0:t.current;if(o)if(j()){const n=new window.ResizeObserver(a=>{a.length&&r()});return n.observe(o),()=>{o&&n.unobserve(o)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t])}function q({children:e}){let t=$.useMemo(()=>({register:()=>{}}),[]);return g.createElement(P.Provider,{value:t},e)}function W(e){const t=V(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:o}=e.style,n=r!=="none"&&o!=="hidden"&&o!=="collapse";if(n){const{getComputedStyle:a}=e.ownerDocument.defaultView;let{display:l,visibility:i}=a(e);n=l!=="none"&&i!=="hidden"&&i!=="collapse"}return n}function G(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function O(e,t){return e.nodeName!=="#comment"&&W(e)&&G(e,t)&&(!e.parentElement||O(e.parentElement,e))}const I=g.createContext(null);let d=null;function H(e){let{children:t,contain:r,restoreFocus:o,autoFocus:n}=e,a=$.useRef(null),l=$.useRef(null),i=$.useRef([]),{parentNode:f}=$.useContext(I)||{},u=$.useMemo(()=>new _({scopeRef:i}),[i]);h(()=>{let b=f||p.root;if(p.getTreeNode(b.scopeRef)&&d&&!C(d,b.scopeRef)){let v=p.getTreeNode(d);v&&(b=v)}b.addChild(u),p.addNode(u)},[u,f]),h(()=>{let b=p.getTreeNode(i);b&&(b.contain=!!r)},[r]),h(()=>{var b;let v=(b=a.current)===null||b===void 0?void 0:b.nextSibling,E=[];for(;v&&v!==l.current;)E.push(v),v=v.nextSibling;i.current=E},[t]),Z(i,o,r),Q(i,r),te(i,o,r),X(i,n),$.useEffect(()=>{const b=N(i.current?i.current[0]:void 0).activeElement;let v=null;if(m(b,i.current)){for(let E of p.traverse())E.scopeRef&&m(b,E.scopeRef.current)&&(v=E);v===p.getTreeNode(i)&&(d=v.scopeRef)}},[i]),h(()=>()=>{var b,v,E;let F=(E=(v=p.getTreeNode(i))===null||v===void 0||(b=v.parent)===null||b===void 0?void 0:b.scopeRef)!==null&&E!==void 0?E:null;(i===d||C(i,d))&&(!F||p.getTreeNode(F))&&(d=F),p.removeTreeNode(i)},[i]);let s=$.useMemo(()=>U(i),[]),c=$.useMemo(()=>({focusManager:s,parentNode:u}),[u,s]);return g.createElement(I.Provider,{value:c},g.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:a}),t,g.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}function U(e){return{focusNext(t={}){let r=e.current,{from:o,tabbable:n,wrap:a,accept:l}=t,i=o||N(r[0]).activeElement,f=r[0].previousElementSibling,u=x(r),s=y(u,{tabbable:n,accept:l},r);s.currentNode=m(i,r)?i:f;let c=s.nextNode();return!c&&a&&(s.currentNode=f,c=s.nextNode()),c&&T(c,!0),c},focusPrevious(t={}){let r=e.current,{from:o,tabbable:n,wrap:a,accept:l}=t,i=o||N(r[0]).activeElement,f=r[r.length-1].nextElementSibling,u=x(r),s=y(u,{tabbable:n,accept:l},r);s.currentNode=m(i,r)?i:f;let c=s.previousNode();return!c&&a&&(s.currentNode=f,c=s.previousNode()),c&&T(c,!0),c},focusFirst(t={}){let r=e.current,{tabbable:o,accept:n}=t,a=x(r),l=y(a,{tabbable:o,accept:n},r);l.currentNode=r[0].previousElementSibling;let i=l.nextNode();return i&&T(i,!0),i},focusLast(t={}){let r=e.current,{tabbable:o,accept:n}=t,a=x(r),l=y(a,{tabbable:o,accept:n},r);l.currentNode=r[r.length-1].nextElementSibling;let i=l.previousNode();return i&&T(i,!0),i}}}const M=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],J=M.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";M.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Y=M.join(':not([hidden]):not([tabindex="-1"]),');function x(e){return e[0].parentElement}function S(e){let t=p.getTreeNode(d);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Q(e,t){let r=$.useRef(),o=$.useRef();h(()=>{let n=e.current;if(!t){o.current&&(cancelAnimationFrame(o.current),o.current=void 0);return}const a=N(n?n[0]:void 0);let l=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!S(e)||u.isComposing)return;let s=a.activeElement,c=e.current;if(!c||!m(s,c))return;let b=x(c),v=y(b,{tabbable:!0},c);if(!s)return;v.currentNode=s;let E=u.shiftKey?v.previousNode():v.nextNode();E||(v.currentNode=u.shiftKey?c[c.length-1].nextElementSibling:c[0].previousElementSibling,E=u.shiftKey?v.previousNode():v.nextNode()),u.preventDefault(),E&&T(E,!0)},i=u=>{(!d||C(d,e))&&m(u.target,e.current)?(d=e,r.current=u.target):S(e)&&!R(u.target,e)?r.current?r.current.focus():d&&d.current&&L(d.current):S(e)&&(r.current=u.target)},f=u=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(()=>{if(a.activeElement&&S(e)&&!R(a.activeElement,e))if(d=e,a.body.contains(u.target)){var s;r.current=u.target,(s=r.current)===null||s===void 0||s.focus()}else d.current&&L(d.current)})};return a.addEventListener("keydown",l,!1),a.addEventListener("focusin",i,!1),n==null||n.forEach(u=>u.addEventListener("focusin",i,!1)),n==null||n.forEach(u=>u.addEventListener("focusout",f,!1)),()=>{a.removeEventListener("keydown",l,!1),a.removeEventListener("focusin",i,!1),n==null||n.forEach(u=>u.removeEventListener("focusin",i,!1)),n==null||n.forEach(u=>u.removeEventListener("focusout",f,!1))}},[e,t]),h(()=>()=>{o.current&&cancelAnimationFrame(o.current)},[o])}function k(e){return R(e)}function m(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function R(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of p.traverse(p.getTreeNode(t)))if(r&&m(e,r.current))return!0;return!1}function le(e){return R(e,d)}function C(e,t){var r;let o=(r=p.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;o;){if(o.scopeRef===e)return!0;o=o.parent}return!1}function T(e,t=!1){if(e!=null&&!t)try{B(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function L(e,t=!0){let r=e[0].previousElementSibling,o=x(e),n=y(o,{tabbable:t},e);n.currentNode=r;let a=n.nextNode();t&&!a&&(o=x(e),n=y(o,{tabbable:!1},e),n.currentNode=r,a=n.nextNode()),T(a)}function X(e,t){const r=g.useRef(t);$.useEffect(()=>{if(r.current){d=e;const o=N(e.current?e.current[0]:void 0);!m(o.activeElement,d.current)&&e.current&&L(e.current)}r.current=!1},[e])}function Z(e,t,r){h(()=>{if(t||r)return;let o=e.current;const n=N(o?o[0]:void 0);let a=l=>{let i=l.target;m(i,e.current)?d=e:k(i)||(d=null)};return n.addEventListener("focusin",a,!1),o==null||o.forEach(l=>l.addEventListener("focusin",a,!1)),()=>{n.removeEventListener("focusin",a,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",a,!1))}},[e,t,r])}function ee(e){let t=p.getTreeNode(d);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function te(e,t,r){const o=$.useRef(typeof document<"u"?N(e.current?e.current[0]:void 0).activeElement:null);h(()=>{let n=e.current;const a=N(n?n[0]:void 0);if(!t||r)return;let l=()=>{(!d||C(d,e))&&m(a.activeElement,e.current)&&(d=e)};return a.addEventListener("focusin",l,!1),n==null||n.forEach(i=>i.addEventListener("focusin",l,!1)),()=>{a.removeEventListener("focusin",l,!1),n==null||n.forEach(i=>i.removeEventListener("focusin",l,!1))}},[e,r]),h(()=>{const n=N(e.current?e.current[0]:void 0);if(!t)return;let a=l=>{if(l.key!=="Tab"||l.altKey||l.ctrlKey||l.metaKey||!S(e)||l.isComposing)return;let i=n.activeElement;if(!m(i,e.current))return;let f=p.getTreeNode(e);if(!f)return;let u=f.nodeToRestore,s=y(n.body,{tabbable:!0});s.currentNode=i;let c=l.shiftKey?s.previousNode():s.nextNode();if((!u||!n.body.contains(u)||u===n.body)&&(u=void 0,f.nodeToRestore=void 0),(!c||!m(c,e.current))&&u){s.currentNode=u;do c=l.shiftKey?s.previousNode():s.nextNode();while(m(c,e.current));l.preventDefault(),l.stopPropagation(),c?T(c,!0):k(u)?T(u,!0):i.blur()}};return r||n.addEventListener("keydown",a,!0),()=>{r||n.removeEventListener("keydown",a,!0)}},[e,t,r]),h(()=>{const n=N(e.current?e.current[0]:void 0);if(!t)return;let a=p.getTreeNode(e);if(a){var l;return a.nodeToRestore=(l=o.current)!==null&&l!==void 0?l:void 0,()=>{let i=p.getTreeNode(e);if(!i)return;let f=i.nodeToRestore;if(t&&f&&(m(n.activeElement,e.current)||n.activeElement===n.body&&ee(e))){let u=p.clone();requestAnimationFrame(()=>{if(n.activeElement===n.body){let s=u.getTreeNode(e);for(;s;){if(s.nodeToRestore&&s.nodeToRestore.isConnected){T(s.nodeToRestore);return}s=s.parent}for(s=u.getTreeNode(e);s;){if(s.scopeRef&&s.scopeRef.current&&p.getTreeNode(s.scopeRef)){L(s.scopeRef.current,!0);return}s=s.parent}}})}}}},[e,t])}function y(e,t,r){let o=t!=null&&t.tabbable?Y:J,n=N(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var l;return!(t==null||(l=t.from)===null||l===void 0)&&l.contains(a)?NodeFilter.FILTER_REJECT:a.matches(o)&&O(a)&&(!r||m(a,r))&&(!(t!=null&&t.accept)||t.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(n.currentNode=t.from),n}class A{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,o){let n=this.fastMap.get(r??null);if(!n)return;let a=new _({scopeRef:t});n.addChild(a),a.parent=n,this.fastMap.set(t,a),o&&(a.nodeToRestore=o)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let o=r.parent;for(let a of this.traverse())a!==r&&r.nodeToRestore&&a.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&m(a.nodeToRestore,r.scopeRef.current)&&(a.nodeToRestore=r.nodeToRestore);let n=r.children;o&&(o.removeChild(r),n.size>0&&n.forEach(a=>o&&o.addChild(a))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new A;var o;for(let n of this.traverse())r.addTreeNode(n.scopeRef,(o=(t=n.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&o!==void 0?o:null,n.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new _({scopeRef:null}),this.fastMap.set(null,this.root)}}class _{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let p=new A;const re=$.createContext({});function ne(){var e;return(e=$.useContext(re))!==null&&e!==void 0?e:{}}const z=g.createContext(null);function ue(e){let t=K(),{portalContainer:r=t?null:document.body,isExiting:o}=e,[n,a]=$.useState(!1),l=$.useMemo(()=>({contain:n,setContain:a}),[n,a]),{getContainer:i}=ne();if(!e.portalContainer&&i&&(r=i()),!r)return null;let f=e.children;return e.disableFocusManagement||(f=g.createElement(H,{restoreFocus:!0,contain:n&&!o},f)),f=g.createElement(z.Provider,{value:l},g.createElement(q,null,f)),D.createPortal(f,r)}function se(){let e=$.useContext(z),t=e==null?void 0:e.setContain;h(()=>{t==null||t(!0)},[t])}var w={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},ce={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.3}},exit:{transform:"scale(0.6)",opacity:0,transition:{type:"easeOut",duration:.2}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:w.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:w.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:w.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:w.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:w.ease}},exit:{opacity:0,transition:{duration:.3,ease:w.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};export{se as $,ce as T,w as a,ue as b,y as c,H as d,ie as e,le as f};
